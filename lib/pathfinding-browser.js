/**
 *    ____       _   _     _____ _           _ _                _         
 *   |  _ \ __ _| |_| |__ |  ___(_)_ __   __| (_)_ __   __ _   (_)___     
 *   | |_) / _` | __| '_ \| |_  | | '_ \ / _` | | '_ \ / _` |  | / __|    
 *   |  __/ (_| | |_| | | |  _| | | | | | (_| | | | | | (_| |_ | \__ \    
 *   |_|   \__,_|\__|_| |_|_|   |_|_| |_|\__,_|_|_| |_|\__, (_)/ |___/    
 *                                                     |___/ |__/         
 *   https://github.com/qiao/PathFinding.js
 */
var PF=function(){var a=function(b,c){var d=a.resolve(b,c||"/"),e=a.modules[d];if(!e)throw new Error("Failed to resolve module "+b+", tried "+d);var f=e._cached?e._cached:e();return f};return a.paths=[],a.modules={},a.extensions=[".js",".coffee"],a._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},a.resolve=function(){return function(b,c){function h(b){if(a.modules[b])return b;for(var c=0;c<a.extensions.length;c++){var d=a.extensions[c];if(a.modules[b+d])return b+d}}function i(b){b=b.replace(/\/+$/,"");var c=b+"/package.json";if(a.modules[c]){var e=a.modules[c](),f=e.browserify;if(typeof f=="object"&&f.main){var g=h(d.resolve(b,f.main));if(g)return g}else if(typeof f=="string"){var g=h(d.resolve(b,f));if(g)return g}else if(e.main){var g=h(d.resolve(b,e.main));if(g)return g}}return h(b+"/index")}function j(a,b){var c=k(b);for(var d=0;d<c.length;d++){var e=c[d],f=h(e+"/"+a);if(f)return f;var g=i(e+"/"+a);if(g)return g}var f=h(a);if(f)return f}function k(a){var b;a==="/"?b=[""]:b=d.normalize(a).split("/");var c=[];for(var e=b.length-1;e>=0;e--){if(b[e]==="node_modules")continue;var f=b.slice(0,e+1).join("/")+"/node_modules";c.push(f)}return c}c||(c="/");if(a._core[b])return b;var d=a.modules.path();c=d.resolve("/",c);var e=c||"/";if(b.match(/^(?:\.\.?\/|\/)/)){var f=h(d.resolve(e,b))||i(d.resolve(e,b));if(f)return f}var g=j(b,e);if(g)return g;throw new Error("Cannot find module '"+b+"'")}}(),a.alias=function(b,c){var d=a.modules.path(),e=null;try{e=a.resolve(b+"/package.json","/")}catch(f){e=a.resolve(b,"/")}var g=d.dirname(e),h=(Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b})(a.modules);for(var i=0;i<h.length;i++){var j=h[i];if(j.slice(0,g.length+1)===g+"/"){var k=j.slice(g.length);a.modules[c+k]=a.modules[g+k]}else j===g&&(a.modules[c]=a.modules[g])}},a.define=function(b,c){var d=a._core[b]?"":a.modules.path().dirname(b),e=function(b){return a(b,d)};e.resolve=function(b){return a.resolve(b,d)},e.modules=a.modules,e.define=a.define;var f={exports:{}};a.modules[b]=function(){return a.modules[b]._cached=f.exports,c.call(f.exports,e,f,f.exports,d,b),a.modules[b]._cached=f.exports,f.exports}},typeof process=="undefined"&&(process={}),process.nextTick||(process.nextTick=function(){var a=[],b=typeof window!="undefined"&&window.postMessage&&window.addEventListener;return b&&window.addEventListener("message",function(b){if(b.source===window&&b.data==="browserify-tick"){b.stopPropagation();if(a.length>0){var c=a.shift();c()}}},!0),function(c){b?(a.push(c),window.postMessage("browserify-tick","*")):setTimeout(c,0)}}()),process.title||(process.title="browser"),process.binding||(process.binding=function(b){if(b==="evals")return a("vm");throw new Error("No such module")}),process.cwd||(process.cwd=function(){return"."}),process.env||(process.env={}),process.argv||(process.argv=[]),a.define("path",function(a,b,c,d,e){function f(a,b){var c=[];for(var d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}function g(a,b){var c=0;for(var d=a.length;d>=0;d--){var e=a[d];e=="."?a.splice(d,1):e===".."?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}var h=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;c.resolve=function(){var a="",b=!1;for(var c=arguments.length;c>=-1&&!b;c--){var d=c>=0?arguments[c]:process.cwd();if(typeof d!="string"||!d)continue;a=d+"/"+a,b=d.charAt(0)==="/"}return a=g(f(a.split("/"),function(a){return!!a}),!b).join("/"),(b?"/":"")+a||"."},c.normalize=function(a){var b=a.charAt(0)==="/",c=a.slice(-1)==="/";return a=g(f(a.split("/"),function(a){return!!a}),!b).join("/"),!a&&!b&&(a="."),a&&c&&(a+="/"),(b?"/":"")+a},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(f(a,function(a,b){return a&&typeof a=="string"}).join("/"))},c.dirname=function(a){var b=h.exec(a)[1]||"",c=!1;return b?b.length===1||c&&b.length<=3&&b.charAt(1)===":"?b:b.substring(0,b.length-1):"."},c.basename=function(a,b){var c=h.exec(a)[2]||"";return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return h.exec(a)[3]||""}}),a.define("/core/node.js",function(a,b,c,d,e){function f(a,b,c,d){this.x=a,this.y=b,this.walkable=c===undefined?!0:c,this.parent=d===undefined?null:d}f.prototype.constructor=f,f.prototype.set=function(a,b){this[a]=b},f.prototype.get=function(a){return this[a]},f.prototype.clone=function(){return new f(this.x,this.y,this.walkable,this.parent)},b.exports=f}),a.define("/core/grid.js",function(a,b,c,d,e){function g(a,b,c){this.width=a,this.height=b,this._buildGrid(c)}var f=a("./node");g.prototype._buildGrid=function(a){var b,c,d=this.width,e=this.height,g=[],h;for(b=0;b<e;++b){g.push([]),h=g[b];for(c=0;c<d;++c)h.push(new f(c,b))}this.nodes=g;if(a===undefined)return;if(a.length!=e||a[0].length!=d)throw new Error("Matrix size does not fit");for(b=0;b<e;++b)for(c=0;c<d;++c)a[b][c]&&(g[b][c].walkable=!1)},g.prototype.getNodeAt=function(a,b){return this.nodes[b][a]},g.prototype.isWalkableAt=function(a,b){return this.getNodeAt(a,b).get("walkable")},g.prototype.setWalkableAt=function(a,b,c){this.getNodeAt(a,b).set("walkable",c)},g.prototype.isInside=function(a,b){return a>=0&&a<this.width&&b>=0&&b<this.height},g.prototype.setAttributeAt=function(a,b,c,d){this.getNodeAt(a,b).set(c,d)},g.prototype.getAttributeAt=function(a,b,c){return this.getNodeAt(a,b).get(c)},g.prototype.clone=function(){var a,b,c=this.width,d=this.height,e=this.nodes,f=new g(c,d),h=[],i;for(a=0;a<d;++a){h.push([]),i=h[a];for(b=0;b<c;++b)i.push(e[a][b].clone())}return f.nodes=h,f},b.exports=g}),a.define("/core/heap.js",function(a,b,c,d,e){function f(a){this._cmp=a||function(a,b){return a<b},this._heap=[]}f.prototype.top=function(){return this._heap[0]},f.prototype.size=function(){return this._heap.length},f.prototype.isEmpty=function(){return!this.size()},f.prototype.push=function(a){this._heap.push(a),this._siftDown(0,this._heap.length-1)},f.prototype.pop=function(){var a,b,c;return a=this._heap,b=a.pop(),a.length?(c=a[0],a[0]=b,this._siftUp(0)):c=b,c},f.prototype.replace=function(a){var b=this._heap[0];return this._heap[0]=a,this._siftUp(0),b},f.prototype.pushpop=function(a){var b=this._heap,c;return b.length&&this._cmp(b[0],a)&&(c=b[0],b[0]=a,a=c,this._siftUp(0)),a},f.prototype.heapify=function(){var a,b=this._heap.length;for(a=Math.floor(b/2)-1;a>=0;--a)this._siftUp(a)},f.prototype._siftDown=function(a,b){var c,d,e,f,g;c=this._heap,d=this._cmp,e=c[b];while(b>a){f=b-1>>1,g=c[f];if(d(e,g)){c[b]=g,b=f;continue}break}c[b]=e},f.prototype._siftUp=function(a){var b,c,d,e,f,g,h;c=this._cmp,b=this._heap,d=b.length,e=a,f=b[a],g=2*a+1;while(g<d)h=g+1,h<d&&!c(b[g],b[h])&&(g=h),b[a]=b[g],a=g,g=2*a+1;b[a]=f,this._siftDown(e,a)},b.exports=f}),a.define("/core/heuristic.js",function(a,b,c,d,e){b.exports={manhattan:function(a,b){return a+b},euclidean:function(a,b){return Math.sqrt(a*a+b*b)},chebyshev:function(a,b){return Math.max(a,b)}}}),a.define("/finders/base.js",function(a,b,c,d,e){function f(a){this.startX=null,this.startY=null,this.endX=null,this.endY=null,this.grid=null,this.gridHeight=null,this.gridWidth=null,this.allowDiagonal=a&&a.allowDiagonal,this.allowDiagonal&&this._inspectSurroundDiagonal!==undefined&&(this._inspectSurround=this._inspectSurroundDiagonal)}f.prototype.isInsideGrid=function(a,b){return this.grid.isInside(a,b)},f.prototype.setWalkableAt=function(a,b,c){this.grid.setWalkableAt(a,b,c)},f.prototype.isWalkableAt=function(a,b){return this.grid.isWalkableAt(a,b)},f.prototype.setAttributeAt=function(a,b,c,d){this.grid.setAttributeAt(a,b,c,d)},f.prototype.getAttributeAt=function(a,b,c){return this.grid.getAttributeAt(a,b,c)},f.prototype.constructor=f,f.prototype.findPath=function(a,b,c,d,e){return this.startX=a,this.startY=b,this.endX=c,this.endY=d,this.grid=e,this.gridWidth=e.width,this.gridHeight=e.height,this._find()},f.prototype._constructPath=function(){var a=this.startX,b=this.startY,c,d,e=this.grid,f=[[this.endX,this.endY]];for(;;){c=f[0][0],d=f[0][1];if(c==a&&d==b)return f;f.unshift(e.getAttributeAt(c,d,"parent"))}return[]},f.prototype._find=function(){throw new Error("Sub-classes must implement this method")},f.xOffsets=[-1,0,1,0],f.yOffsets=[0,1,0,-1],f.xDiagonalOffsets=[-1,-1,1,1],f.yDiagonalOffsets=[-1,1,1,-1],b.exports=f}),a.define("/finders/astar.js",function(a,b,c,d,e){function i(a){a=a||{},f.call(this,a),this.heuristic=a.heuristic||g.manhattan}var f=a("./base"),g=a("../core/heuristic"),h=a("../core/heap");i.prototype=new f,i.prototype.constructor=i,i.prototype._find=function(){var a,b,c=this.startX,d=this.startY,e=this.endX,f=this.endY,g=this.grid,i=new h(function(a,b){var c=g.getAttributeAt(a[0],a[1],"f"),d=g.getAttributeAt(b[0],b[1],"f");return c!=d?c<d:g.getAttributeAt(a[0],a[1],"h")<g.getAttributeAt(b[0],b[1],"h")}),j,k;this.openList=i,k=g.getNodeAt(c,d),k.set("g",0),k.set("f",0),i.push([c,d]),k.set("opened",!0);while(!i.isEmpty()){j=i.pop(),a=j[0],b=j[1],g.setAttributeAt(a,b,"closed",!0);if(a==e&&b==f)return this._constructPath();this._inspectSurround(a,b)}return[]},i.prototype._inspectSurround=function(a,b){var c=f.xOffsets,d=f.yOffsets,e=this.grid,g,h,i;for(g=0;g<4;++g)h=a+c[g],i=b+d[g],e.isInside(h,i)&&e.isWalkableAt(h,i)&&this._inspectNodeAt(h,i,a,b,!1)},i.prototype._inspectSurroundDiagonal=function(a,b){var c=f.xOffsets,d=f.yOffsets,e=f.xDiagonalOffsets,g=f.yDiagonalOffsets,h=this.grid,i,j,k,l=[];for(i=0;i<c.length;++i)j=a+c[i],k=b+d[i],h.isInside(j,k)&&h.isWalkableAt(j,k)&&(this._inspectNodeAt(j,k,a,b,!1),l[i]=!0,l[(i+1)%4]=!0);for(i=0;i<l.length;++i)l[i]&&(j=a+e[i],k=b+g[i],h.isInside(j,k)&&h.isWalkableAt(j,k)&&this._inspectNodeAt(j,k,a,b,!0))},i.prototype._inspectNodeAt=function(a,b,c,d,e){var f=this.grid,g=this.openList,h=f.getNodeAt(a,b);if(h.get("closed"))return;h.get("opened")?this._tryUpdate(a,b,c,d,e)&&g.heapify():(h.set("opened",!0),this._tryUpdate(a,b,c,d,e),g.push([a,b]))},i.prototype._tryUpdate=function(a,b,c,d,e){var f=this.grid,g=f.getNodeAt(c,d),h=g.get("g")+(e?1.4142:1),i=f.getNodeAt(a,b);return i.get("g")===undefined||h<i.get("g")?(i.set("parent",[c,d]),i.set("g",h),i.set("h",this._calculateH(a,b)),i.set("f",i.get("g")+i.get("h")),!0):!1},i.prototype._calculateH=function(a,b){var c=Math.abs(a-this.endX),d=Math.abs(b-this.endY);return this.heuristic(c,d)},b.exports=i}),a.define("/finders/best_first.js",function(a,b,c,d,e){function g(a){f.call(this,a);var b=this.heuristic;this.heuristic=function(a,c){return b(a,c)*1e6}}var f=a("./astar");g.prototype=new f,g.prototype.constructor=g,b.exports=g}),a.define("/finders/breadth_first.js",function(a,b,c,d,e){function g(a){f.call(this,a)}var f=a("./base");g.prototype=new f,g.prototype.constructor=g,g.prototype._find=function(){var a=[],b,c,d,e,f,g=this.startX,h=this.startY,i=this.endX,j=this.endY,k=this.grid;this.openList=a,a.push([g,h]),k.setAttributeAt(g,h,"opened",!0);while(a.length){b=a.shift(),c=b[0],d=b[1],k.setAttributeAt(c,d,"closed",!0);if(c==i&&d==j)return this._constructPath();this._inspectSurround(c,d)}return[]},g.prototype._inspectNodeAt=function(a,b,c,d){var e=this.grid,f=e.getNodeAt(a,b);if(f.get("closed")||f.get("opened"))return;this.openList.push([a,b]),e.setAttributeAt(a,b,"opened",!0),e.setAttributeAt(a,b,"parent",[c,d])},g.prototype._inspectSurround=function(a,b){var c=f.xOffsets,d=f.yOffsets,e=this.grid,g,h,i;for(g=0;g<c.length;++g)h=a+c[g],i=b+d[g],e.isInside(h,i)&&e.isWalkableAt(h,i)&&this._inspectNodeAt(h,i,a,b)},g.prototype._inspectSurroundDiagonal=function(a,b){var c=f.xOffsets,d=f.yOffsets,e=f.xDiagonalOffsets,g=f.yDiagonalOffsets,h=this.grid,i,j,k,l=[];for(i=0;i<4;++i)j=a+c[i],k=b+d[i],h.isInside(j,k)&&h.isWalkableAt(j,k)&&(this._inspectNodeAt(j,k,a,b),l[i]=!0,l[(i+1)%4]=!0);for(i=0;i<4;++i)l[i]&&(j=a+e[i],k=b+g[i],h.isInside(j,k)&&h.isWalkableAt(j,k)&&this._inspectNodeAt(j,k,a,b))},b.exports=g}),a.define("/finders/dijkstra.js",function(a,b,c,d,e){function g(a){f.call(this,a),this.heuristic=function(a,b){return 0}}var f=a("./astar");g.prototype=new f,g.prototype.constructor=g,b.exports=g}),a.define("/finders/bi_astar.js",function(a,b,c,d,e){function i(a){g.call(this,a)}var f=a("./base"),g=a("./astar"),h=a("../core/heap");i.prototype=new g,i.prototype.constructor=i,i.prototype._find=function(){var a,b,c=this.startX,d=this.startY,e=this.endX,f=this.endY,g=this.grid,i,j=function(a,b){var c=g.getAttributeAt(a[0],a[1],"f"),d=g.getAttributeAt(b[0],b[1],"f");return c!=d?c<d:g.getAttributeAt(a[0],a[1],"h")<g.getAttributeAt(b[0],b[1],"h")},k=new h(j),l=new h(j);this.sourceOpenList=k,this.targetOpenList=l,k.push([c,d]),i=g.getNodeAt(c,d),i.set("g",0),i.set("f",0),i.set("opened",!0),i.set("by","source"),l.push([e,f]),i=g.getNodeAt(e,f),i.set("g",0),i.set("f",0),i.set("opened",!0),i.set("by","target");while(!k.isEmpty()&&!l.isEmpty())if(this._expandSource()||this._expandTarget())return this.path;return[]},i.prototype._expandSource=function(){return this._expand("source")},i.prototype._expandTarget=function(){return this._expand("target")},i.prototype._expand=function(a){var b,c,d,e;return e=this.grid,b=this[a+"OpenList"].pop(),c=b[0],d=b[1],e.setAttributeAt(c,d,"closed",!0),e.setAttributeAt(c,d,"by",a),this._inspectSurround(c,d,a)},i.prototype._inspectSurround=function(a,b,c){var d=f.xOffsets,e=f.yOffsets,g=this.grid,h,i,j;for(h=0;h<4;++h){i=a+d[h],j=b+e[h];if(g.isInside(i,j)&&g.isWalkableAt(i,j)&&this._inspectNodeAt(i,j,a,b,!1,c))return!0}return!1},i.prototype._inspectSurroundDiagonal=function(a,b,c){var d=f.xOffsets,e=f.yOffsets,g=f.xDiagonalOffsets,h=f.yDiagonalOffsets,i=this.grid,j,k,l,m=[];for(j=0;j<4;++j){k=a+d[j],l=b+e[j];if(i.isInside(k,l)&&i.isWalkableAt(k,l)){if(this._inspectNodeAt(k,l,a,b,!1,c))return!0;m[j]=!0,m[(j+1)%4]=!0}}for(j=0;j<4;++j)if(m[j]){k=a+g[j],l=b+h[j];if(i.isInside(k,l)&&i.isWalkableAt(k,l)&&this._inspectNodeAt(k,l,a,b,!0,c))return!0}return!1},i.prototype._inspectNodeAt=function(a,b,c,d,e,f){var g=this.grid,h=this[f+"OpenList"],i=g.getNodeAt(a,b);if(i.get("closed"))return!1;if(i.get("opened")){if(i.get("by")!=f)return this.pathFound=!0,this.path=this._constructPath(a,b,c,d,f),!0;this._tryUpdate(a,b,c,d,e,f)&&h.heapify()}else i.set("opened",!0),i.set("by",f),this._tryUpdate(a,b,c,d,e,f),h.push([a,b]);return!1},i.prototype._tryUpdate=function(a,b,c,d,e,f){var g=this.grid,h=g.getNodeAt(c,d),i=h.get("g")+(e?1.4142:1),j=g.getNodeAt(a,b);return j.get("g")===undefined||i<j.get("g")?(j.set("parent",[c,d]),j.set("g",i),j.set("h",this._calculateH(a,b,f)),j.set("f",j.get("g")+j.get("h")),!0):!1},i.prototype._constructPath=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n;h=this.startX,i=this.startY,j=this.endX,k=this.endY,l=this.grid,e=="source"?(m=[[c,d]],n=[[a,b]]):(m=[[a,b]],n=[[c,d]]);for(;;){f=m[0][0],g=m[0][1];if(f==h&&g==i)break;m.unshift(l.getAttributeAt(f,g,"parent"))}for(;;){f=n[0][0],g=n[0][1];if(f==j&&g==k)break;n.unshift(l.getAttributeAt(f,g,"parent"))}return n.reverse(),m.concat(n)},i.prototype._calculateH=function(a,b,c){if(c=="source"){var d=Math.abs(a-this.endX),e=Math.abs(b-this.endY);return this.heuristic(d,e)}var d=Math.abs(a-this.startX),e=Math.abs(b-this.startY);return this.heuristic(d,e)},b.exports=i}),a.define("/finders/bi_best_first.js",function(a,b,c,d,e){function g(a){f.call(this,a);var b=this.heuristic;this.heuristic=function(a,c){return b(a,c)*1e6}}var f=a("./bi_astar");g.prototype=new f,g.prototype.constructor=g,b.exports=g}),a.define("/finders/bi_breadth_first.js",function(a,b,c,d,e){function h(a){g.call(this,a)}var f=a("./base"),g=a("./breadth_first");h.prototype=new g,h.prototype.constructor=h,h.prototype._find=function(){var a,b,c,d,e,f=this.startX,g=this.startY,h=this.endX,i=this.endY,j=this.grid,k=[],l=[];this.sourceOpenList=k,this.targetOpenList=l,k.push([f,g]),j.setAttributeAt(f,g,"opened",!0),j.setAttributeAt(f,g,"by","source"),l.push([h,i]),j.setAttributeAt(h,i,"opened",!0),j.setAttributeAt(h,i,"by","target");while(k.length&&l.length)if(this._expandSource()||this._expandTarget())return this.path;return[]},h.prototype._expandSource=function(){return this._expand("source")},h.prototype._expandTarget=function(){return this._expand("target")},h.prototype._expand=function(a){var b,c,d,e=this.grid;return b=this[a+"OpenList"].shift(),c=b[0],d=b[1],e.setAttributeAt(c,d,"closed",!0),e.setAttributeAt(c,d,"by",a),this._inspectSurround(c,d,a)},h.prototype._inspectSurround=function(a,b,c){var d=f.xOffsets,e=f.yOffsets,g=this.grid,h,i,j;for(h=0;h<4;++h){i=a+d[h],j=b+e[h];if(g.isInside(i,j)&&g.isWalkableAt(i,j)&&this._inspectNodeAt(i,j,a,b,c))return!0}return!1},h.prototype._inspectSurroundDiagonal=function(a,b,c){var d=f.xOffsets,e=f.yOffsets,g=f.xDiagonalOffsets,h=f.yDiagonalOffsets,i=this.grid,j,k,l,m=[];for(j=0;j<4;++j){k=a+d[j],l=b+e[j];if(i.isInside(k,l)&&i.isWalkableAt(k,l)){if(this._inspectNodeAt(k,l,a,b,c))return!0;m[j]=!0,m[(j+1)%4]=!0}}for(j=0;j<4;++j)if(m[j]){k=a+g[j],l=b+h[j];if(i.isInside(k,l)&&i.isWalkableAt(k,l)&&this._inspectNodeAt(k,l,a,b,c))return!0}return!1},h.prototype._inspectNodeAt=function(a,b,c,d,e){var f=this.grid,g=f.getNodeAt(a,b);return g.get("closed")?!1:g.get("opened")?g.get("by")!=e?(this.path=this._constructPath(a,b,c,d,e),!0):!1:(this[e+"OpenList"].push([a,b]),f.setAttributeAt(a,b,"opened",!0),f.setAttributeAt(a,b,"parent",[c,d]),f.setAttributeAt(a,b,"by",e),!1)},h.prototype._constructPath=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n;h=this.startX,i=this.startY,j=this.endX,k=this.endY,l=this.grid,e=="source"?(m=[[c,d]],n=[[a,b]]):(m=[[a,b]],n=[[c,d]]);for(;;){f=m[0][0],g=m[0][1];if(f==h&&g==i)break;m.unshift(l.getAttributeAt(f,g,"parent"))}for(;;){f=n[0][0],g=n[0][1];if(f==j&&g==k)break;n.unshift(l.getAttributeAt(f,g,"parent"))}return n.reverse(),m.concat(n)},b.exports=h}),a.define("/finders/bi_dijkstra.js",function(a,b,c,d,e){function g(a){f.call(this,a),this.heuristic=function(a,b){return 0}}var f=a("./bi_astar");g.prototype=new f,g.prototype.constructor=g,b.exports=g}),a.define("/finders/jump_point.js",function(a,b,c,d,e){function i(a){a=a||{},f.call(this,a),this.heuristic=a.heuristic||g.manhattan}var f=a("./base"),g=a("../core/heuristic"),h=a("../core/heap");i.prototype=new f,i.prototype.constructor=i,i.prototype._find=function(){var a,b,c=this.startX,d=this.startY,e=this.endX,f=this.endY,g=this.grid,i=new h(function(a,b){var c=g.getAttributeAt(a[0],a[1],"f"),d=g.getAttributeAt(b[0],b[1],"f");return c!=d?c<d:g.getAttributeAt(a[0],a[1],"h")<g.getAttributeAt(b[0],b[1],"h")}),j,k;this.openList=i,k=g.getNodeAt(c,d),k.set("g",0),k.set("f",0),i.push([c,d]),k.set("opened",!0);while(!i.isEmpty()){j=i.pop(),a=j[0],b=j[1],g.setAttributeAt(a,b,"closed",!0);if(a==e&&b==f)return this._constructPath();this._identifySuccessors(a,b)}return[]},i.prototype._identifySuccessors=function(a,b){var c=this._findNeighbors(a,b),d,e,f,g,h,i;for(i=0;i<c.length;i++)e=c[i][0],f=c[i][1],g=e-a,h=f-b,d=this._jump(e,f,a,b),d&&this._inspectNodeAt(d[0],d[1],a,b)},i.prototype._jump=function(a,b,c,d){var e=this.grid,f=a-c,g=b-d,h,i;if(!this._isOpen(a,b))return null;if(a==this.endX&&b==this.endY)return[a,b];if(f!==0&&g!==0){if(this._isOpen(a-f,b+g)&&!this._isOpen(a-f,b)||this._isOpen(a+f,b-g)&&!this._isOpen(a,b-g))return[a,b]}else if(f!==0){if(this._isOpen(a+f,b+1)&&!this._isOpen(a,b+1)||this._isOpen(a+f,b-1)&&!this._isOpen(a,b-1))return[a,b]}else if(this._isOpen(a+1,b+g)&&!this._isOpen(a+1,b)||this._isOpen(a-1,b+g)&&!this._isOpen(a-1,b))return[a,b];if(f!==0&&g!==0){h=this._jump(a+f,b,a,b),i=this._jump(a,b+g,a,b);if(h||i)return[a,b]}return this._isOpen(a+f,b)||this._isOpen(a,b+g)?this._jump(a+f,b+g,a,b):null},i.prototype._isOpen=function(a,b){var c=this.grid;return c.isInside(a,b)&&c.isWalkableAt(a,b)},i.prototype._findNeighbors=function(a,b){var c=this.grid,d=c.getNodeAt(a,b),e=d.get("parent"),g=f.xOffsets,h=f.yOffsets,i=f.xDiagonalOffsets,j=f.yDiagonalOffsets,k,l,m,n,o,p,q,r=[];if(e)p=e[0],q=e[1],n=(a-p)/Math.max(Math.abs(a-p),1),o=(b-q)/Math.max(Math.abs(b-q),1),n!==0&&o!==0?(this._isOpen(a,b+o)&&r.push([a,b+o]),this._isOpen(a+n,b)&&r.push([a+n,b]),(this._isOpen(a,b+o)||this._isOpen(a+n,b))&&r.push([a+n,b+o]),!this._isOpen(a-n,b)&&this._isOpen(a,b+o)&&r.push([a-n,b+o]),!this._isOpen(a,b-o)&&this._isOpen(a+n,b)&&r.push([a+n,b-o])):n===0?this._isOpen(a,b+o)&&(this._isOpen(a,b+o)&&r.push([a,b+o]),this._isOpen(a+1,b)||r.push([a+1,b+o]),this._isOpen(a-1,b)||r.push([a-1,b+o])):this._isOpen(a+n,b)&&(this._isOpen(a+n,b)&&r.push([a+n,b]),this._isOpen(a,b+1)||r.push([a+n,b+1]),this._isOpen(a,b-1)||r.push([a+n,b-1]));else for(k=0;k<g.length;++k)l=a+g[k],m=b+h[k],this._isOpen(l,m)&&r.push([l,m]),n=i[k],o=j[k],this._isOpen(a+n,b+o)&&(this._isOpen(a+n,b)||this._isOpen(a,b+o))&&r.push([a+n,b+o]);return r},i.prototype._inspectNodeAt=function(a,b,c,d){var e=this.grid,f=this.openList,g=e.getNodeAt(a,b),h=c-a!==0&&d-b!==0;if(g.get("closed"))return;g.get("opened")?this._tryUpdate(a,b,c,d,h)&&f.heapify():(g.set("opened",!0),this._tryUpdate(a,b,c,d,h),f.push([a,b]))},i.prototype._tryUpdate=function(a,b,c,d,e){var f=this.grid,g=f.getNodeAt(c,d),h=Math.max(Math.abs(a-c),Math.abs(b-d)),i=g.get("g")+(e?1.4142:1)*h,j=f.getNodeAt(a,b);return j.get("g")===undefined||i<j.get("g")?(j.set("parent",[c,d]),j.set("g",i),j.set("h",this._calculateH(a,b)),j.set("f",j.get("g")+j.get("h")),!0):!1},i.prototype._calculateH=function(a,b){var c=Math.abs(a-this.endX),d=Math.abs(b-this.endY);return this.heuristic(c,d)},b.exports=i}),a.define("/pathfinding.js",function(a,b,c,d,e){b.exports={Node:a("./core/node"),Grid:a("./core/grid"),Heap:a("./core/heap"),Heuristic:a("./core/heuristic"),BaseFinder:a("./finders/base"),AStarFinder:a("./finders/astar"),BestFirstFinder:a("./finders/best_first"),BreadthFirstFinder:a("./finders/breadth_first"),DijkstraFinder:a("./finders/dijkstra"),BiAStarFinder:a("./finders/bi_astar"),BiBestFirstFinder:a("./finders/bi_best_first"),BiBreadthFirstFinder:a("./finders/bi_breadth_first"),BiDijkstraFinder:a("./finders/bi_dijkstra"),JumpPointFinder:a("./finders/jump_point")}}),a("/pathfinding.js"),a("/pathfinding")}()